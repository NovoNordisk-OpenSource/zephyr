<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write messages based on verbosity level — msg • zephyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write messages based on verbosity level — msg"><meta name="description" content="The msg function is a general function for writing messages to the console
based on options set using the options package. As a default, an option
called verbosity_level set in the package defining a function calling msg
is used. If a global option with prefix zephyr. is set, it will overwrite
the package level option.
Valid values are quiet, verbose and debug.
verbose is used in levels_to_write vector argument when the developer
wants to inform the user about something. debug is ised when the developer
wants to give the user extra information that can help with debugging. See
example for possible use case."><meta property="og:description" content="The msg function is a general function for writing messages to the console
based on options set using the options package. As a default, an option
called verbosity_level set in the package defining a function calling msg
is used. If a global option with prefix zephyr. is set, it will overwrite
the package level option.
Valid values are quiet, verbose and debug.
verbose is used in levels_to_write vector argument when the developer
wants to inform the user about something. debug is ised when the developer
wants to give the user extra information that can help with debugging. See
example for possible use case."><meta property="og:image" content="https://novonordisk-opensource.github.io/zephyr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">zephyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NovoNordisk-OpenSource/zephyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Write messages based on verbosity level</h1>
      <small class="dont-index">Source: <a href="https://github.com/NovoNordisk-OpenSource/zephyr/blob/feat/add-logo/R/msg.R" class="external-link"><code>R/msg.R</code></a></small>
      <div class="d-none name"><code>msg.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>msg</code> function is a general function for writing messages to the console
based on options set using the <a href="https://rdrr.io/r/base/options.html" class="external-link">options</a> package. As a default, an option
called <code>verbosity_level</code> set in the package defining a function calling <code>msg</code>
is used. If a global option with prefix <code>zephyr.</code> is set, it will overwrite
the package level option.</p>
<p>Valid values are <code>quiet</code>, <code>verbose</code> and <code>debug</code>.
<code>verbose</code> is used in <code>levels_to_write</code> vector argument when the developer
wants to inform the user about something. <code>debug</code> is ised when the developer
wants to give the user extra information that can help with debugging. See
example for possible use case.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">msg</span><span class="op">(</span></span>
<span>  <span class="va">message</span>,</span>
<span>  levels_to_write <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"verbose"</span>, <span class="st">"debug"</span><span class="op">)</span>,</span>
<span>  msg_fun <span class="op">=</span> <span class="fu">cli</span><span class="fu">::</span><span class="va"><a href="https://cli.r-lib.org/reference/cli_alert.html" class="external-link">cli_alert_info</a></span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  verbosity_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  which <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  .envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">msg_debug</span><span class="op">(</span></span>
<span>  <span class="va">message</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  verbosity_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  which <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  .envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">msg_success</span><span class="op">(</span></span>
<span>  <span class="va">message</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  verbosity_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  which <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  .envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-message">message<a class="anchor" aria-label="anchor" href="#arg-message"></a></dt>
<dd><p><code>character</code> of message to write</p></dd>


<dt id="arg-levels-to-write">levels_to_write<a class="anchor" aria-label="anchor" href="#arg-levels-to-write"></a></dt>
<dd><p><code>character</code> vector of levels of verbosity for which
to display the message. Valid values are <code>quiet</code>, <code>verbose</code> and <code>debug</code></p></dd>


<dt id="arg-msg-fun">msg_fun<a class="anchor" aria-label="anchor" href="#arg-msg-fun"></a></dt>
<dd><p><code>function</code> taking <code>message</code> as first argument. Usually a
<code>cli_...</code> function</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code>msg_fun</code></p></dd>


<dt id="arg-verbosity-level">verbosity_level<a class="anchor" aria-label="anchor" href="#arg-verbosity-level"></a></dt>
<dd><p>The verbosity level to use. If <code>NULL</code>, the function
will use the <code>which</code> argument to determine the environment in which to find
and option called <code>verbosity_level</code>. By default, it will look in the environment
of the function calling <code>msg(_...)</code>. If no option is set in this calling
environment, it will look in the <code>zephyr</code> namespace.</p></dd>


<dt id="arg-which">which<a class="anchor" aria-label="anchor" href="#arg-which"></a></dt>
<dd><p><code>integer</code> passed to <code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">sys.function()</a></code> in case <code>verbosity_level = NULL</code>.
Default is -1, meaning it will look in the environment of the function calling <code>msg(_...)</code>.</p></dd>


<dt id="arg--envir">.envir<a class="anchor" aria-label="anchor" href="#arg--envir"></a></dt>
<dd><p><code>environment</code> passed to <code>msg_fun</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>None</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>msg</code> function is a general function, which can be used to write messages
based on options.</p>
<p>The <code>msg_debug</code> function is a wrapper around <code>msg</code> with
<code>levels_to_write = "debug"</code> and <code>msg_fun = cli::cli_inform</code>, while the
<code>msg_success</code> function is a wrapper around <code>msg</code> with
<code>levels_to_write = c("verbose", "debug")</code> and <code>msg_fun = cli::cli_alert_success</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">filter_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">infilter</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">#Defusing the filter arguments</span></span></span>
<span class="r-in"><span>  <span class="va">infilter_e</span> <span class="op">&lt;-</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/enquo.html" class="external-link">enquo</a></span><span class="op">(</span><span class="va">infilter</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">infilter_lb</span> <span class="op">&lt;-</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/as_label.html" class="external-link">as_label</a></span><span class="op">(</span><span class="va">infilter_e</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">msg</span><span class="op">(</span><span class="st">"Attempting to filter {.field data} by {.field {infilter_lb}}"</span>,</span></span>
<span class="r-in"><span>    levels_to_write <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"verbose"</span>, <span class="st">"debug"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    msg_fun <span class="op">=</span> <span class="fu">cli</span><span class="fu">::</span><span class="va"><a href="https://cli.r-lib.org/reference/cli_h1.html" class="external-link">cli_h2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">#Adding a debug message that only will appear if verbosity level is set to</span></span></span>
<span class="r-in"><span>  <span class="st">"debug"</span></span></span>
<span class="r-in"><span>  <span class="fu">msg_debug</span><span class="op">(</span><span class="st">"Trying to filter data"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">data</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">{</span><span class="op">{</span><span class="va">infilter</span><span class="op">}</span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">msg_success</span><span class="op">(</span><span class="st">"Data filtered by {.field {infilter_lb}}"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_options.html" class="external-link">with_options</a></span><span class="op">(</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>zephyr.verbosity_level <span class="op">=</span> <span class="st">"verbose"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     <span class="fu">filter_data</span><span class="op">(</span>data <span class="op">=</span> <span class="va">cars</span>, infilter <span class="op">=</span> <span class="va">speed</span> <span class="op">&gt;</span> <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Attempting to filter </span><span style="color: #00BB00; font-weight: bold;">data</span><span style="font-weight: bold;"> by </span><span style="color: #00BB00; font-weight: bold;">speed &gt; 12</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Data filtered by <span style="color: #00BB00;">speed &gt; 12</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_options.html" class="external-link">with_options</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>zephyr.verbosity_level <span class="op">=</span> <span class="st">"debug"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       <span class="fu">filter_data</span><span class="op">(</span>data <span class="op">=</span> <span class="va">cars</span>, infilter <span class="op">=</span> <span class="va">speed</span> <span class="op">&gt;</span> <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ── <span style="font-weight: bold;">Attempting to filter </span><span style="color: #00BB00; font-weight: bold;">data</span><span style="font-weight: bold;"> by </span><span style="color: #00BB00; font-weight: bold;">speed &gt; 12</span> ──</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Trying to filter data</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Data filtered by <span style="color: #00BB00;">speed &gt; 12</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aksel Thomsen, Mathias Lerbech Jeppesen, Cervan Girard, Kristian Troejelsgaard, Lovemore Gakava, Steffen Falgreen Larsen, Vladimir Obucina.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

